.page-template-page-winter {
  $h2_font_size: 45px;

  #banner {
    @include xxl {
      height: 85vh;
      overflow: hidden;
      .slides-wrapper {
        position: relative;
        top: 50%;
        transform: translateY(-50%);
      }
    }
    .banner-bottom {
      display: none;
    }
    .slideItem {
      .hero-alt-text-wrap {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: center;
        padding: 30px;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 300;
        .innerText {
          text-align: center;
          color: #FFF;
          h2 {
            font-size: clamp(40px,6vw,4rem);
            font-weight: 700;
            line-height: 1.2;
            margin: 0 0;
          }
          p {
            font-size: 1.25rem;
            color: #FFF;
          }
        }
      }
    }
  }


  .text_content_center_block {
    height: auto;
    min-height: 20em;
    padding-top: 60px;
    padding-bottom: 60px;
    .wrapper {
      max-width: 920px;
      width: 100%;
      margin: 0 auto;
      transform: none;
      h2, .h2 {
        font-size: 45px;
        font-weight: 700;
      }
    }
    .buttonsBlock {
      display: flex;
      justify-content: center;
      gap: 1.35rem;
      .button.button-red,
      .button {
        background-color: transparent!important;
        color: #FFF;
        text-transform: uppercase;
        letter-spacing: .08em !important;
        font-size: 15px !important;
        font-weight: 500 !important;
        min-width: 200px;
        min-height: 35px;
        text-align: center;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: 1px solid #FFF;
        &:hover, &:focus {
          border-color: #FFF!important;
          background-color: #FFF!important;
          color: #000!important;
        }
      }

      @include max($midwidth) {
        flex-wrap: wrap;
        gap:1.35rem;
        a.button {
          min-width: 180px!important;
          min-height: 40px!important;
        }
      }
      @include max(380px) {
        flex-direction: column;
        a.button {
          min-width: 190px!important;
        }
      }
    }
    .wrapper:has(h1):has(.buttonsBlock),
    .wrapper:has(h2):has(.buttonsBlock),
    .wrapper:has(h3):has(.buttonsBlock),
    .wrapper:has(.textwrap):has(.buttonsBlock) {
      .buttonsBlock {
        margin-top: 50px;
      }
    }
  }

  .image_and_text_two_column.section-two_column_row {
    margin-top: 25px;
    margin-bottom: 25px;
    .textBlock h2 {
      font-size: $h2_font_size;
      font-weight: 700;
      line-height: 1.1;
      margin:0 0;
    }
    .textBlock:has(h2):has(p) {
      h2 {
        margin-bottom: 15px;
      }
    }
  }

  .repeatable_masonry_infocards {
    padding-top: 60px;
    padding-bottom: 60px;
    margin-top: 25px;
    margin-bottom: 25px;
    background: $gray;
    .wrapper {
      max-width: 1700px;
    }
    .page--title--wrapper {
      h2, .h2 {
        font-size: $h2_font_size;
        font-weight: 700;
        line-height: 1.1;
        margin: 0 0 20px;
      }
    }
    .infocards {
      padding-left: 20px;
      padding-right: 20px;
      .cards-row {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin-left: -15px;
        margin-right: -15px;
      }
      .card-item {
        padding: 15px;
        figure {
          border-radius: 15px;
          margin: 0 0;
          height: clamp(300px,30vw,400px);
          position: relative;
          overflow: hidden;
          @media screen and (max-width: 768px) {
            height: 330px;
          }
          @media screen and (max-width: 500px) {
            height: 350px;
          }
        }
        figure:has(a.imageLink) {
          overflow: visible;
        }
        a.imageLink {
          display: block;
          width: 100%;
          height: 100%;
          position: relative;
          text-decoration: none;
          color: #FFF;
          border-radius: 15px;
          overflow: hidden;
          transition: all ease .3s;
          &:hover, &:focus {
            transform: translateY(-5px);
          }
        }
        figcaption {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: 10;
          display: flex;
          flex-wrap: wrap;
          align-items: flex-end;
          &:after {
            content:"";
            display: block;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background: rgba(0,0,0,.25);
          }
          .text {
            max-width: 500px;
            width: 100%;
            position: relative;
            z-index: 10;
            text-align: left;
            padding: 20px;
            color: #FFF;
            h2,h3 {
              font-size: 30px!important;
              font-weight: 600!important;
              line-height: 1.1;
              text-transform: uppercase;
              margin: 0 0 5px;
            }
            h2,h3,h4,p {
              color: #FFF!important;
            }
            a.button-element.button {
              border: 1px solid $red!important;
              background-color: $red!important;
              color: #FFF!important;
              padding: 6px 20px 5px;
              font-size: 14px !important;
              &:hover, &:focus {
                border-color: #FFF!important;
                background-color: #FFF!important;
                color: $red!important;
              }
            }
            p {
              line-height: 1.2;
            }
          }
          p:has(.custom-button-element) {
            margin: 0 0;
          }
        }
        .imagediv {
          position: relative;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          img {
            display: block;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            object-fit: cover;
            object-position: center;
          }
        }
      }
      .cards-row.count-4 {
        .card-item figure {
          height: clamp(300px,30vw,450px);
          figcaption {
            h2,h3 {
              font-size: 20px!important;
            }
            p:last-child {
              margin-bottom: 0;
            }
          }
        }
      }

      @media screen and (max-width:1250px) {
        .cards-row.count-1 .card-item {
          width: 100%!important;
        }
        .cards-row.count-3 .card-item {
          width: 50%!important;
        }
        .cards-row.count-3 .card-item:nth-child(3) {
          width: 100%!important;
        }
        .cards-row.count-4 .card-item {
          width: 50%!important;
        }
      }

      @media screen and (max-width:768px) {
        .cards-row.count-1 .card-item,
        .cards-row.count-2 .card-item,
        .cards-row.count-3 .card-item,
        .cards-row.count-3 .card-item:nth-child(3),
        .cards-row.count-4 .card-item {
          width: 100%!important;
        }
      }
    }

    .bottom-information {
      max-width: 680px;
      width: 100%;
      margin-left: auto;
      margin-right: auto;
      .custom-button-element {
        display: inline-block;
        margin-top: 10px;
      }
      .button-element.button {
        min-width: 150px;
        text-align: center;
      }
      @include xxl {
        padding-left: 30px;
        padding-right: 30px;
      }
    }
    &:has(.infocards),
    &:has(.page--title--wrapper) {
      .bottom-information {
        margin-top: 30px;
      }
    }
    
    .infoCardsCarousel {
      display: none;
      padding:0 25px;
      position: relative;
      @media screen and (max-width: 480px) {
        padding-left: 5px;
        padding-right: 5px;
      }
      .infoCardsCarouselSlider {
        .item {
          figure {
            margin: 0 0;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            height: 50vw;
            @include tab {
              height: 60vw;
            }
            img {
              display: block;
              width: 100%;
              height: 100%;
              object-fit: cover;
              object-position: center;
              position: absolute;
              top: 0;
              left: 0;
            }
            a.imageLink {
              text-decoration: none;
              display: block;
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              padding: 30px;
            }
            
            figcaption {
              display: block;
              position: absolute;
              bottom: 0;
              left: 0;
              z-index: 15;
              color: #FFF;
              &:after {
                content:"";
                display: block;
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 200%;
                background: linear-gradient(to bottom,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.65) 100%);
              }
              .text {
                text-align: left;
                position: relative;
                z-index: 5;
                padding: 15px;
              }
              h2,h3 {
                text-transform: uppercase;
                font-size: 20px!important;
                font-weight: 600!important;
                margin: 0 0 3px;
              }
              h2,h3,p {
                color: #FFF;
              }
              p {
                line-height: 1.2!important;
              }
              p:last-child {
                margin-bottom: 0;
              }
            }
            // &:has(.imageLink) {
            //   overflow: visible;
            //   border-radius: 0;
            //   padding-bottom: 0;
            //   .imageLink {
            //     display: block;
            //     text-decoration: none;
            //     position: relative;
            //     overflow: hidden;
            //     border-radius: 15px;
            //     padding-bottom: 120%;
            //   }
            // }
          }
        }
      }
      .owl-dots {
        display: none!important;
      }
      .infocard-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 20px;
        z-index: 50;
        appearance: none;
        border: none;
        display: inline-block;
        background: transparent;
        padding: 5px;
      }
      .infocard-prev-btn {
        left: -8px;
      }
      .infocard-next-btn {
        right: -8px;
      }
      @media screen and (max-width: 480px) {
        .infocard-prev-btn {
          left: -18px;
        }
        .infocard-next-btn {
          right: -18px;
        }
      }
    }

    @media screen and (max-width:960px) {
      .infocards.convert-to-carousel  {
        display: none;
      }
      .infoCardsCarousel {
        display: block;
      }
    }
  }


  .repeatable_carousel_section {
    padding: 60px 15px;
    background: $gray_darker;
    color: #FFF;
    .page--title--wrapper {
      text-align: center;
      margin-bottom: 40px;
      h2 {
        font-size: $h2_font_size;
        font-weight: 700;
        line-height: 1.1;
        color: #FFF!important;
      }
    }
    .section-intro {
      margin-bottom: 50px;
      h2 {
        font-size: $h2_font_size;
        font-weight: 700;
        line-height: 1.1;
        margin: 0 0 10px;
      }
      p {
        color: #FFF;
        @include mid {
          max-width: 780px;
          width: 100%;
          margin: 0 auto 20px;
        }
      }
    }

    .section-intro.section-bottom-text {
      margin-bottom: 50px;
      margin-top: 30px;
      .wrapper {
        padding-left: 30px;
        padding-right: 30px;
        max-width: 680px;
        width: 100%;
      }
      p:has(.custom-button-element) {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin: 30px 0 0;
      }
      .custom-button-element {
        display: flex;
        justify-content: center;
        gap: 1rem;
        a.button.button-gray {
          border-color: #FFF;
          color: #FFF;
        }
      }
    }

    .repeater-carousel-section {
      display: none;
      position: relative;
      &:has(.item) {
        display: block;
      }
      .wrapper {
        max-width: 100%;
      }

      .owl-custom-nav {
        appearance: none;
        border: none;
        background-color: transparent;
        width: 30px;
        height: 50px;
        color: #FFF;
        position: absolute;
        top: 40%;
        transform: translateY(-50%);
        z-index: 100;
        @include desk {
          top: 45%;
        }
        &.nav-prev {
          left: -25px;
        }
        &.nav-next {
          right: -25px;
        }
      }

      .owl-dots {
        display: flex;
        align-items: center;
        justify-content: center;
        gap:.45rem;
        margin-top: 40px;
        .owl-dot {
          appearance: none;
          border: none;
          width: 8px;
          height: 8px;
          border-radius: 100%;
          background: #FFF;
          transition: all ease .3s;
          &.active {
            transform: scale(1.3);
          }
          &:not(.active):hover {
            opacity: 0.65;
          }
        }
      }

      .carousel-slider {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        // margin-left: -10px;
        // margin-right: -10px;
        // width: auto;
        overflow: hidden;
        max-width: 90vw;
        width: 100%;
        margin: 0 auto;
        padding-bottom: 20px;
        .item {
          width: 25%;
          padding: 10px;
          figure {
            margin: 0 0;
            overflow: hidden;
            border-radius: 15px;
            position: relative;
            padding-bottom: 115%;
            .category, .title {
              position: absolute;
              left: 0;
              z-index: 10;
              color: #FFF;
              display: block;
              padding: 15px;
            }
            .category {
              font-size: 20px;
              font-weight: 600;
              line-height: 1.1;
              text-transform: uppercase;
              top: 0;
              @include max(768px) {
                font-size: 16px;
              }
            }
            .title {
              bottom: 0;
              font-size: 30px;
              font-weight: 600;
              text-transform: uppercase;
              line-height: 1;
              @include tab {
                font-size: clamp(25px,3vw,35px);
              }
              @include max(768px) {
                font-size: 20px;
              }
            }
            div.image {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
            }
            img {
              width: 100%;
              height: 100%;
              position: absolute;
              top: 0;
              left: 0;
              object-fit: cover;
              object-position: center;
            }
            &:has(.title),
            &:has(.category) {
              div.image:before {
                content:"";
                display: block;
                width: 100%;
                height: 100%;
                position: absolute;
                top: 0;
                left: 0;
                z-index: 5;
                background: #000;
                opacity: 0.25;
                transition: opacity ease .5s;
              }
            }
            &.has-link {
              border-radius: 0;
              overflow: visible;
              padding-bottom: 0;
              a.imagelink {
                display: block;
                position: relative;
                border-radius: 15px;
                padding-bottom: 115%;
                overflow: hidden;
                border: 2px solid transparent;
                &:hover, &:focus {  
                  border-color: #FFF;
                  div.image:before {
                    opacity: 0.65;
                  }
                }
                &:focus {
                  outline: 0;
                }
              }
            }
          }
        }

        .owl-nav {
          height: 0;
          visibility: hidden;
          overflow: hidden;
        }

        &.owl-loaded {
          display: block;
          width: 100%;
          .owl-stage-outer {
            padding-right: 2px;
          }
          .owl-stage {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
          }
          .owl-item {
            display: flex;
            flex-wrap: wrap;
            .item {
              width: 100%;
              padding: 0 0;
            }
          }
        }
      }

      &:has(.owl-loaded) {
        display: block;
        width: 92vw;
        margin: 0 auto 0;
        .wrapper {
          padding-left: 0;
          padding-right: 0;
        }
      }
    }
    
    
    .video-section {
      margin-top: 30px;
      .wrapper {
        max-width: 100%;
      }
      .videoWrap {
        position: relative;
        overflow: hidden;
        border-radius: 20px;
        background: #000;
        iframe {
          width: 100%!important;
          height: 100%!important;
          margin: 0 0!important;
          position: absolute;
          top: 0;
          left: 0;
          z-index: 5;
        }
        img.video-resizer {
          width: 100%;
          height: auto;
          pointer-events: none;
          position: relative;
        }
      }
    }
  }

  .repeatable_faqs_accordion_section {
    .section-intro {
      margin-bottom: 25px;
    }
    .wrapper {
      max-width: 800px;
      width: 100%;
      margin: 0 auto;
    }
    .faqs {
      .faq-item {
        border: 1px solid transparent;
        overflow: hidden;
        border-radius: 12px;
        margin-bottom: 18px;
        animation-fill-mode: both;
        animation-duration: 0.8s;
        &.hidden {
          display: none;
        }
        &.show {
          animation-name: fadeIn;
        }
      }
      .faq-question {
        margin: 0 0;
        font-size: 18px;
        font-weight: 700;
        line-height: 1.1;
        text-transform: uppercase;
        padding: 30px 40px 25px;
        background: #f2f2f2;
        color: #000;
        border-radius: 12px;
        position: relative;
        transition: all ease .3s;
        svg, i {
          display: inline-block;
          position: absolute;
          top: 52%;
          right: 30px;
          font-size: 13px;
          transform: translateY(-50%);
          transition: transform ease .3s;
        }
        // &:hover {
        //   background: $red;
        //   color: #FFF;
        // }
        &[aria-expanded="true"] {
          // background: $red;
          // color: #FFF;
          svg, i {
            color: $red;
            transform: translateY(-50%) scaleY(-1);
          }
          svg path {
            fill: $red;
          }
        }
      }
      .faq-answer {
        padding: 0 40px 15px;
        border-radius: 8px;
        margin: 0 0;
        position: relative;
        top: -10px;
        display: none;
        p:last-child {
          margin-bottom: 0;
        }
      }
      .faq-item:has(.faq-question[aria-expanded="true"]) {
        border: 1px solid #000;
        .faq-question[aria-expanded="true"] {
          background: #FFF;
        }
      }
    }
    .faqs-button-bottom {
      display: flex;
      justify-content: center;
      text-align: center;
      margin-top: 40px;
      margin-bottom: 60px;
    }
  }

  .image_and_text_two_column {
    .imageBlock.is-slider {
      height: 100%;
      .galleryWrapper {
        width: 100%;
        min-height: 520px;
        position: relative;
        @include max(768px) {
          min-height: 80vw;
        }
        .winterGallerySlider {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        }
        .swiper-wrapper {
          width: 100%;
          height: 100%;
        }
        .swiper-slide {
          overflow: hidden;
          position: relative;
          width: 100%;
          height: 100%;
          img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            position: absolute;
            top: 0;
            left: 0;
          }
        }

        .swiper-button-next,
        .swiper-button-prev {
          opacity: 0;
          transition: transform ease .3s, opacity ease .5s;
        }
        .swiper-button-next {
          transform: translateX(50vw);
        }
        .swiper-button-prev {
          transform: translateX(-50vw);
        }

        .swiper-button-next:after, 
        .swiper-button-prev:after {
          color: #FFF;
          font-size: 25px;
        }

        .swiper-pagination-bullet {
          display: inline-block;
          background: #FFF;
          opacity: 0.5;
          &.swiper-pagination-bullet-active {
            opacity: 1;
            transform: scale(1.2)!important;
          }
        }

        &:hover, &:focus-within {
          .swiper-button-next,
          .swiper-button-prev {
            opacity: 1;
            transform: translateX(0);
          }
        }
      }
    }
    &:has(.textBlock):has(.galleryWrapper) {
      .flexwrap {
        position: relative;
      }
      .imageBlock {
        @include tab {
          position: absolute;
          top: 0;
          left: 0;
          height: 100%;
          .galleryWrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            .winterGallerySlider,
            .swiper-wrapper,
            .swiper-wrapper .swiper-slide {
              width: 100%;
              height: 100%;
            }
          }
        }
      }

      .image-right .imageBlock {
        @include tab {
          left: unset;
          right: 0;
        }
      }
    }
  }

  .popup-details-container[aria-hidden="true"] {
    pointer-events: none;
  }

  #infocardsModal.modal {
    padding: 30px;
    .modal-dialog {
      margin: 0 auto;
      animation-fill-mode: both;
      animation-duration: .7s;
      .modal-body {
        padding: 15px 30px 30px;
      }
    }
    .modal-content {
      border-bottom: none!important;
    }
    .popupDetails {
      @include desk {
        padding-left: 40px;
        padding-right: 40px;
      }
      p:has(img) {
        margin-bottom: 35px;
      }
    }
    .close.modal-close-button {
      appearance: none;
      padding: 0 0;
      display: inline-block;
      width: 30px;
      height: 30px;
      border: 1px solid #000;
      border-radius: 100px;
      font-size: 23px;
      line-height: 28px;
      position: absolute;
      top: 25px;
      right: 25px;
      z-index: 50;
      &:before, &:after {
        content:"";
        display: block;
        width: 15px;
        height: 2px;
        background: #000;
        position: absolute;
        top: 50%;
        left: 50%;
        transition: all ease .3s;
      }
      &:before {
        transform: translateX(-50%) translateY(-50%) rotate(45deg);
      }
      &:after {
        transform: translateX(-50%) translateY(-50%) rotate(-45deg);
      }
      &:hover, &:focus {
        border-color: $red;
        &:before, &:after {
          background: $red;
        }
      }
    }
    &.show {
      background-color: rgba(0,0,0,.82);
      display: flex;
      flex-wrap: wrap;
      // align-items: center;
      justify-content: center;
      .modal-dialog {
        animation-name: fadeInDown;
      }
    }
    &.closed {
      display: flex;
      flex-wrap: wrap;
      // align-items: center;
      justify-content: center;
      .modal-dialog {
        animation-name: fadeOutUp;
      }
    }
  }

  #infocardsModal .modal-body .gallery.swiper {
    max-width: 100%;
    width: 100%;
    margin: 0 auto 35px;
    overflow: hidden;
    .swiper-wrapper {
      height: 370px;
      background-color: #CCC;
      .swiper-slide {
        width: 100%!important;
        height: 100%!important;
        .gallery-item {
          margin: 0 0;
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          overflow: hidden;
          div, a, img {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          }
          img {
            object-fit: cover;
            object-position: center;
          }
        }
      }
    }
    .swiper-button-next,
    .swiper-button-prev {
      opacity: 0;
      transition: transform ease .3s, opacity ease .5s;
    }
    .swiper-button-next {
      transform: translateX(20vw);
    }
    .swiper-button-prev {
      transform: translateX(-20vw);
    }
    .swiper-button-next:after, 
    .swiper-button-prev:after {
      font-size: 25px;
      color: #FFF;
      text-shadow: 0 1px 2px rgba(0,0,0,.5);
    }

    .swiper-pagination-bullets {
      .swiper-pagination-bullet {
        background: #FFF!important;
        opacity: .75;
        transition: all ease .3s!important;
        &.swiper-pagination-bullet-active {
          opacity: 1;
          transform: scale(1.25);
        }
        &:not(.swiper-pagination-bullet-active):hover {
          transform: translateY(-2px);
        }
      }
    }

    &:hover, &:focus-within {
      .swiper-button-next {
        opacity: 1;
        transform: translateX(0);
      }
      .swiper-button-prev {
        opacity: 1;
        transform: translateX(0);
      }
    }
  }

}


